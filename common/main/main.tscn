[gd_scene load_steps=20 format=4 uid="uid://bjd2pnd1x1jsx"]

[ext_resource type="Script" path="res://common/main/main.gd" id="1_ifxnn"]
[ext_resource type="PackedScene" uid="uid://583hn6mui13j" path="res://common/player/player.tscn" id="1_pc3h1"]
[ext_resource type="Shader" path="res://common/main/fog.gdshader" id="2_ihk6s"]
[ext_resource type="Texture2D" uid="uid://e4ea865uw2xx" path="res://assets/tilesets/tileset.png" id="3_c4glq"]
[ext_resource type="Script" path="res://common/main/TileMapLayer.gd" id="3_stwf1"]
[ext_resource type="PackedScene" uid="uid://bjenuqw5iiynh" path="res://common/particles/dust.tscn" id="3_wkc5e"]
[ext_resource type="AudioStream" uid="uid://b7h8c6ojbnngv" path="res://audio/Outdoor_Ambiance.mp3" id="4_2at3o"]
[ext_resource type="PackedScene" uid="uid://d3803gshr36jf" path="res://common/particles/wind.tscn" id="4_hm7t0"]
[ext_resource type="PackedScene" uid="uid://4lo6gk2u2yf8" path="res://common/particles/snow.tscn" id="5_wg4kp"]
[ext_resource type="PackedScene" uid="uid://dyol8vq3v3wt1" path="res://common/test/test.tscn" id="7_3ui18"]

[sub_resource type="Environment" id="Environment_8qa0w"]
background_mode = 3
glow_enabled = true
glow_bloom = 0.3
adjustment_brightness = 0.01

[sub_resource type="Gradient" id="Gradient_23b4r"]
colors = PackedColorArray(1, 1, 1, 1, 0, 0, 0, 0)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_3pf2q"]
gradient = SubResource("Gradient_23b4r")
use_hdr = true
fill = 1
fill_from = Vector2(0.509317, 0.531056)
fill_to = Vector2(0, 0)

[sub_resource type="Gradient" id="Gradient_f66kp"]

[sub_resource type="FastNoiseLite" id="FastNoiseLite_awem2"]
frequency = 0.0297

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_10a2a"]
seamless = true
color_ramp = SubResource("Gradient_f66kp")
noise = SubResource("FastNoiseLite_awem2")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_2gknp"]
shader = ExtResource("2_ihk6s")
shader_parameter/density = 0.5
shader_parameter/speed = Vector2(-0.005, 0.01)
shader_parameter/noise_texture = SubResource("NoiseTexture2D_10a2a")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_3j4md"]
texture = ExtResource("3_c4glq")
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0
0:2/0 = 0
1:2/0 = 0
0:3/0 = 0
1:3/0 = 0
2:3/0 = 0
0:4/0 = 0
2:4/0 = 0
0:5/0 = 0
1:4/0 = 0
1:5/0 = 0
0:6/0 = 0
0:7/0 = 0
0:8/0 = 0
1:6/0 = 0
1:7/0 = 0
1:8/0 = 0
3:2/0 = 0

[sub_resource type="TileSet" id="TileSet_6ycii"]
terrain_set_0/mode = 0
sources/2 = SubResource("TileSetAtlasSource_3j4md")

[node name="main" type="Node2D"]
script = ExtResource("1_ifxnn")

[node name="map" type="Node2D" parent="."]
position = Vector2(-384, -216)

[node name="DirectionalLight2D" type="DirectionalLight2D" parent="map"]
color = Color(1, 0.96, 0.85, 1)
energy = 0.5

[node name="WorldEnvironment" type="WorldEnvironment" parent="map"]
environment = SubResource("Environment_8qa0w")

[node name="PointLight2D" type="PointLight2D" parent="map"]
texture = SubResource("GradientTexture2D_3pf2q")

[node name="ParallaxBackground" type="ParallaxBackground" parent="map"]
layer = 10

[node name="ParallaxLayer" type="ParallaxLayer" parent="map/ParallaxBackground"]
motion_mirroring = Vector2(1152, 648)

[node name="ColorRect" type="ColorRect" parent="map/ParallaxBackground/ParallaxLayer"]
material = SubResource("ShaderMaterial_2gknp")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_right = 1152.0
offset_bottom = 648.0
grow_horizontal = 2
grow_vertical = 2

[node name="TileMapLayer" type="TileMapLayer" parent="map"]
tile_map_data = PackedByteArray("AAAAAAAAAgAAAAAAAAD//wAAAgAAAAEAAAD/////AgAAAAIAAAAAAP//AgAAAAAAAAD+////AgAAAAAAAAD+/wEAAgAAAAAAAAD//wEAAgAAAAAAAAAAAAEAAgAAAAAAAAABAAEAAgAAAAAAAAABAAAAAgAAAAAAAAABAP//AgAAAAEAAAABAP7/AgAAAAAAAAAAAP7/AgAAAAAAAAD///7/AgAAAAAAAAD+//7/AgAAAAAAAAD+/wAAAgAAAAAAAAD+/wIAAgAAAAMAAAD//wIAAgAAAAMAAAAAAAIAAgAAAAMAAAABAAIAAgAAAAMAAAACAAIAAgAAAAQAAAD+//3/AgAAAAcAAHD///3/AgAAAAcAAHAAAP3/AgAAAAcAAHD9/wIAAgAAAAYAABD9/wEAAgAAAAcAABD9/wAAAgAAAAcAABD9////AgAAAAcAABD9//7/AgAAAAcAABD7/wIAAgACAAQAAAD8/wIAAgACAAQAAAD6/wIAAgACAAQAAAD5/wIAAgACAAQAAAD5//7/AgACAAEAAAD5////AgACAAEAAAD5/wAAAgACAAEAAAD5/wEAAgACAAEAAAD6//7/AgACAAEAAAD6////AgACAAEAAAD6/wAAAgACAAEAAAD6/wEAAgACAAEAAAD7//7/AgACAAEAAAD7////AgACAAEAAAD7/wAAAgACAAEAAAD7/wEAAgACAAEAAAD8//7/AgACAAEAAAD8////AgACAAEAAAD8/wAAAgACAAEAAAD8/wEAAgACAAEAAAD5//3/AgACAAAAAAD6//3/AgACAAAAAAD7//3/AgACAAAAAAD8//3/AgACAAAAAAD5/wMAAgABAAEAAAD6/wMAAgABAAEAAAD7/wMAAgABAAEAAAD8/wMAAgABAAEAAAD9/wMAAgABAAEAAAD+/wMAAgABAAEAAAD//wMAAgABAAEAAAAAAAMAAgABAAEAAAABAAMAAgABAAEAAAACAAMAAgABAAEAAAADAAIAAgABAAEAAAAEAAQAAgABAAQAAAADAAMAAgABAAIAAAAEAP3/AgABAAUAAAAEAP7/AgABAAUAAAAEAP//AgABAAUAAAAEAAAAAgABAAUAAAAEAAEAAgABAAUAAAAEAAIAAgABAAUAAAAEAAMAAgABAAUAAAADAP3/AgABAAIAAAADAP7/AgABAAIAAAADAP//AgABAAIAAAADAAAAAgABAAIAAAADAAEAAgABAAIAAAACAP7/AgAAAAUAAAACAP//AgAAAAUAAAACAAAAAgAAAAUAAAACAAEAAgAAAAUAAAD5/wQAAgABAAYAAAD6/wQAAgABAAYAAAD7/wQAAgABAAYAAAD8/wQAAgABAAYAAAD9/wQAAgABAAMAAAD+/wQAAgABAAMAAAD//wQAAgABAAMAAAAAAAQAAgABAAMAAAABAAQAAgABAAMAAAACAAQAAgABAAMAAAADAAQAAgABAAMAAAACAP3/AgAAAAYAAGD9//3/AgAAAAgAADABAP3/AgAAAAcAAGACAPz/AgACAAQAAGD5//z/AgACAAAAAAD6//z/AgACAAAAAAD7//z/AgACAAAAAAD8//z/AgACAAAAAAD9//z/AgACAAAAAAD+//z/AgACAAAAAAD///z/AgACAAAAAAAAAPz/AgACAAAAAAABAPz/AgACAAAAAAADAPz/AgABAAEAAAAEAPz/AgABAAUAAAD5/wUAAgADAAIAAAD6/wUAAgADAAIAAAD8/wUAAgADAAIAAAD7/wUAAgADAAIAAAD5/wYAAgADAAIAAAD6/wYAAgADAAIAAAD7/wYAAgADAAIAAAD8/wYAAgADAAIAAAA=")
tile_set = SubResource("TileSet_6ycii")
script = ExtResource("3_stwf1")

[node name="player" parent="." instance=ExtResource("1_pc3h1")]
position = Vector2(-384, -216)

[node name="wind" parent="player" instance=ExtResource("4_hm7t0")]
emitting = false

[node name="dust" parent="player" instance=ExtResource("3_wkc5e")]
position = Vector2(0, 0)
visibility_rect = Rect2(-501.733, -502.275, 1003.57, 1009.98)

[node name="snow" parent="player" instance=ExtResource("5_wg4kp")]
emitting = false

[node name="sounds" type="Node" parent="."]

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="sounds"]
stream = ExtResource("4_2at3o")
autoplay = true
parameters/looping = true

[node name="test" parent="." instance=ExtResource("7_3ui18")]
visible = false
position = Vector2(-318, -216)
